<div class="table-section">
  <div class="header-section">
    <h1>Sessions</h1>
  </div>

  <!-- Date Filter -->
  <mat-form-field appearance="fill" class="date-filter">
    <mat-label>Choose Date</mat-label>
    <input matInput [matDatepicker]="sessionPicker" (dateChange)="onFilterDateChange($event.value)" placeholder="Choose date" />
    <mat-datepicker-toggle matSuffix [for]="sessionPicker"></mat-datepicker-toggle>
    <mat-datepicker #sessionPicker></mat-datepicker>
  </mat-form-field>

  <!-- Sessions Table -->
  <div class="table-container">
    <table mat-table [dataSource]="sessions" class="mat-elevation-z8 full-width">

      <!-- ID -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef> ID </th>
        <td mat-cell *matCellDef="let session"> {{ session.id }} </td>
      </ng-container>

      <!-- Date -->
      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef> Date </th>
        <td mat-cell *matCellDef="let session"> {{ session.date }} </td>
      </ng-container>

      <!-- Start Time -->
      <ng-container matColumnDef="startTime">
        <th mat-header-cell *matHeaderCellDef> Start </th>
        <td mat-cell *matCellDef="let session"> {{ session.startTime }} </td>
      </ng-container>

      <!-- End Time -->
      <ng-container matColumnDef="endTime">
        <th mat-header-cell *matHeaderCellDef> End </th>
        <td mat-cell *matCellDef="let session"> {{ session.endTime }} </td>
      </ng-container>

      <!-- Table Info -->
      <ng-container matColumnDef="table">
        <th mat-header-cell *matHeaderCellDef> Table </th>
        <td mat-cell *matCellDef="let session"> {{ getTableLabel(session.tableId) }} </td>
      </ng-container>

      <!-- Game Info -->
      <ng-container matColumnDef="game">
        <th mat-header-cell *matHeaderCellDef> Game </th>
        <td mat-cell *matCellDef="let session"> {{ getGameName(session.gameId) }} </td>
      </ng-container>

      <!-- Users -->
      <ng-container matColumnDef="users">
        <th mat-header-cell *matHeaderCellDef> Users </th>
        <td mat-cell *matCellDef="let session">
          <ng-container *ngFor="let user of session.sessionUsers">
            <div>{{ user.userId }}</div>
          </ng-container>
        </td>
      </ng-container>

      <!-- Actions -->
      <!-- <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef> Actions </th>
        <td mat-cell *matCellDef="let session">
          <button mat-icon-button class="primary-icon-button" (click)="deleteSession(session)">
            <mat-icon>cancel</mat-icon>
          </button>
        </td>
      </ng-container> -->

      <tr mat-header-row *matHeaderRowDef="displayedColumnsSessions"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumnsSessions;"></tr>
    </table>
  </div>
</div>